<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="/assets/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="/assets/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="/assets/css/smart-docs.css" rel="stylesheet" media="screen">
    <link href="/assets/css/syntax.css" rel="stylesheet">

    <style type="text/css"> body { padding-top: 60px; } </style>

    <title>SMART REST API</title>

    <script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>
    <script src="/assets/js/topnav.js"></script>

    <script>
        $(function(){
            // add scrollspy listener
            $('.call-group-header').on('activate', function (e) {
                // hide all the other call groups and show this one
                $('.call-group').not($(e.target).next()).hide();
                $(e.target).next().show();
            })
        })
    </script>
    <script>
        // highlight the <li> in the topbar
        $(function(){
            $('#ref-topbar ul.nav').removeClass('active')
            $('#ref-topbar ul.nav #tn_api').addClass('active')
        });
    </script>
  </head>

  <body data-spy='scroll' data-target='#ref-sidebar' data-offset='80'>

    <div id='ref-topbar' class="navbar navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container-fluid">

      <a class="brand" href="/"><img class='smartbug' src='/assets/img/smart-bug.png' /></a>

      <ul class="nav" style='text-transform: uppercase; font-size: 14px'>
        <li id="tn_home"><a href="/">Home</a></li>

        <li id="tn_framework"><a href="/framework/architecture">Framework</a></li>

        <li id="tn_models"><a href="/framework/models/">Data Models</a></li>
        <li id="tn_api"><a href="/framework/api/">API</a></li>

        <li id="tn_appdev"><a href="/guide/">App Development</a></li>
        <li id="tn_containerdev"><a href="/container/">Container Development</a></li>

        <li id="tn_resources"><a href="/resources.html">Resources</a></li>
      </ul>

    </div>
  </div>
</div>

<div class='red_box'>SMART "Classic" is being transitioned to support-only mode as we continue new development on SMART-on-FHIR. <a href="http://fhir-docs.smartplatforms.org">Click here</a> to see the SMART-on-FHIR docs</div>


    <div class="container-fluid">
      <div class="row-fluid">
        <div id='ref-sidebar' class="span3">
          <div id='ref-sidebar-inner' class='ref-sidenav well' data-spy='affix'>
            <ul class="nav nav-list">



<li class='nav-header'>Container Calls</li>


  <li class='call-group-header'><a href='#container_app_manifest'>App Manifest</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_app_manifests'>get_app_manifests</a></code></li>
      <li class='call'><code><a href='#get_app_manifest'>get_app_manifest</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#container_containermanifest'>ContainerManifest</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_container_manifest'>get_container_manifest</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#container_demographics'>Demographics</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#search_records'>search_records</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#container_ontology'>Ontology</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_ontology'>get_ontology</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#container_user'>User</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#search_users'>search_users</a></code></li>
      <li class='call'><code><a href='#get_user'>get_user</a></code></li>
    </ul>


<li class='nav-header'>Record Calls</li>


  <li class='call-group-header'><a href='#record_allergy'>Allergy</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_allergies'>get_allergies</a></code></li>
      <li class='call'><code><a href='#get_allergy'>get_allergy</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#record_clinical_note'>Clinical Note</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#post_clinical_note'>post_clinical_note</a></code></li>
      <li class='call'><code><a href='#get_clinical_note'>get_clinical_note</a></code></li>
      <li class='call'><code><a href='#get_clinical_notes'>get_clinical_notes</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#record_demographics'>Demographics</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_demographics'>get_demographics</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#record_document'>Document</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_documents'>get_documents</a></code></li>
      <li class='call'><code><a href='#get_document'>get_document</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#record_encounter'>Encounter</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_encounter'>get_encounter</a></code></li>
      <li class='call'><code><a href='#get_encounters'>get_encounters</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#record_family_history_observation'>Family History Observation</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_family_history_observations'>get_family_history_observations</a></code></li>
      <li class='call'><code><a href='#get_family_history_observation'>get_family_history_observation</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#record_fulfillment'>Fulfillment</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_fulfillments'>get_fulfillments</a></code></li>
      <li class='call'><code><a href='#get_fulfillment'>get_fulfillment</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#record_immunization'>Immunization</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_immunization'>get_immunization</a></code></li>
      <li class='call'><code><a href='#get_immunizations'>get_immunizations</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#record_lab_panel'>Lab Panel</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_lab_panel'>get_lab_panel</a></code></li>
      <li class='call'><code><a href='#get_lab_panels'>get_lab_panels</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#record_lab_result'>Lab Result</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_lab_results'>get_lab_results</a></code></li>
      <li class='call'><code><a href='#get_lab_result'>get_lab_result</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#record_medication'>Medication</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_medications'>get_medications</a></code></li>
      <li class='call'><code><a href='#get_medication'>get_medication</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#record_photograph'>Photograph</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_photograph'>get_photograph</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#record_problem'>Problem</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_problem'>get_problem</a></code></li>
      <li class='call'><code><a href='#get_problems'>get_problems</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#record_procedure'>Procedure</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_procedures'>get_procedures</a></code></li>
      <li class='call'><code><a href='#get_procedure'>get_procedure</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#record_scratchpad_data'>Scratchpad Data</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_scratchpad_data'>get_scratchpad_data</a></code></li>
      <li class='call'><code><a href='#delete_scratchpad_data'>delete_scratchpad_data</a></code></li>
      <li class='call'><code><a href='#put_scratchpad_data'>put_scratchpad_data</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#record_social_history'>Social History</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_social_history'>get_social_history</a></code></li>
    </ul>

  <li class='call-group-header'><a href='#record_vital_sign_set'>Vital Sign Set</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#get_vital_sign_set'>get_vital_sign_set</a></code></li>
      <li class='call'><code><a href='#get_vital_sign_sets'>get_vital_sign_sets</a></code></li>
    </ul>


<li class='nav-header'>User Calls</li>


  <li class='call-group-header'><a href='#user_user_preferences'>User Preferences</a></li>

    <ul class='call-group hide'>
      <li class='call'><code><a href='#delete_user_preferences'>delete_user_preferences</a></code></li>
      <li class='call'><code><a href='#get_user_preferences'>get_user_preferences</a></code></li>
      <li class='call'><code><a href='#put_user_preferences'>put_user_preferences</a></code></li>
    </ul>


            </ul>
          </div>
        </div><!--span3-->

        <div class="span9">
          <h1>SMART REST API Overview</h1>

<div class="well">
  <p>N.B. This is highly preliminary, not a commitment or final
  version of any particular API or data model. This is purely
  for internal collaboration and preview purposes.</p>
</div>

<p>The SMART API provides access to individual resources (medications, fulfillment
events, prescription events, problems, etc.) and groups of these resources in a
<a href="http://en.wikipedia.org/wiki/Representational_state_transfer">RESTful</a> API.</p>

<h2>REST Design Principles</h2>

<p>In general you can interact with a:</p>

<ul>
<li>Group of resources using:

<ul>
<li><code>GET</code> to retrieve a group of resources such as <code>/medications/</code></li>
</ul></li>
<li>Single resource using:

<ul>
<li><code>GET</code> to retrieve a single resource such as /medications/{medication_id}</li>
</ul></li>
</ul>

<h2>OWL Ontology File</h2>

<p>The API calls listed below, as well as the RDF/XML payloads, are also
defined in a machine-readable OWL file. The OWL file has been used to
generate the documentation below, as well as our client-side REST
libraries and API Playground app.</p>

<h2>Call Scopes</h2>

<p>Each <code>GET</code> call in the SMART REST API is listed below and grouped by the
&quot;scope&quot; or &quot;access control category&quot; the SMART container applies to the
call. The SMART container implements this access control using the OAuth
tokens passed in with each API request as described in the <a href="/guide/tutorials/smart_rest.html">SMART REST
App tutorial</a>.</p>

<p>Currently there are three &quot;scopes&quot; or access control categories:</p>

<ol>
<li><p><code>Container</code> calls can be made by anyone against the container.
Examples of this type of call are fetching the container&#39;s manifest
and fetching the container&#39;s ontology.  These calls need not
be OAuth-signed (though it is not incorrect to sign them).</p></li>
<li><p><code>Record</code> calls are scoped to a (app, user, record) tuple e.g. calls
to fetch a patient&#39;s medical record data. An example would be getting
the medications in a patient&#39;s record. The OAuth credentials for
the app (e.g. the <code>consumer_key</code> and <code>consumer_secret</code>) and
previously fetched OAuth credentials from the server including the
<code>smart_record_id</code> These calls must be signed as &quot;3-legged&quot; 
OAuth requests, meaning they are signed with a combination of
the app&#39;s consumer token + access token.</p></li>
<li><p><code>User</code> calls are scoped to a (app, user) tuple and are used for
setting a user&#39;s preferences <em>for that app only</em>. These calls are also
signed as &quot;3-legged&quot; OAuth calls, using an app&#39;s consumer token +
access token. (Future versions of the SMART API may allow an app to 
read another&#39;s preferences or add a &quot;global&quot; set of user preferences.) </p></li>
</ol>

<h2>Filters</h2>

<p>The SMART API offers a basic filtering capability to narrow down large clinical
statement result sets on the server before returning data to the client. As of
SMART 0.6, for all API calls that return multiple SMART Clinical Statements
(e.g. <code>GET /records/xxx/lab_results</code>), you can attach date filters if relevant
to the returned data type, and in a few select cases other datatype specific
filters (such as LOINC codes on lab results) as URL parameters.</p>

<h3>Common Date Filters</h3>

<p>All SMART API calls for clinical statements that have a <code>date</code> or <code>startDate</code>
attribute can now be filtered on those attributes by sending the following
query parameters in the request.</p>

<p>Note: even if the data includes an <code>endDate</code>, it is not used by any of
the current filters.</p>

<ul>
<li><code>date_from</code></li>
<li><code>date_from_excluding</code></li>
<li><code>date_from_including</code></li>
<li><code>date_to</code></li>
<li><code>date_to_excluding</code></li>
<li><code>date_to_including</code></li>
</ul>

<h3>Statement Specific Filters</h3>

<p>The following calls have additional filters:</p>

<ul>
<li><p><a href="/framework/models/#Lab_Result">Lab Results</a>: <code>loinc</code> &mdash; a
pipe-separated LOINC codes. e.g. <code>loinc=29571-7|38478-4</code></p></li>
<li><p><a href="/framework/models/#Vital_Sign_Set">Vital Sign Sets</a>: <code>encounter_type</code>
&mdash; a pipe-separated encounter types. e.g. <code>encounter_type=ambulatory</code></p></li>
<li><p><a href="/framework/models/#Medication">Medications</a>: <code>rxnorm</code> &mdash; a
pipe-separated list of RXNORM codes. e.g. <code>rxnorm=856845</code></p></li>
<li><p><a href="/framework/models/#Problem">Problems</a>: <code>snomed</code> &mdash; a pipe-seperated
list of SNOMED codes. e.g. <code>snomed=161891005</code></p></li>
<li><p><a href="/framework/models/#Procedure">Procedures</a>: <code>snomed</code> &mdash; a
pipe-seperated list of SNOMED codes. e.g. <code>snomed=161891005</code></p></li>
</ul>

<h3>Default Sort Order and Paginating Results</h3>

<p>Each SMART API call that returns sets of Clinical Statements now have a default
sort order defined for them based on either the <code>date</code> or <code>startDate</code>
attribute. The previously defined <code>offset</code> parameter has been removed. This
requires a change in an app&#39;s pagination strategy to use date filters, the
<code>limit</code> parameter, and the metadata in the <code>ResponseSummary</code> to paginate
results.  See also <code>resultsReturned</code> and <code>totalResultCount</code> in the
<code>ResponseSummary</code> object in the next section.</p>

<p>The default behavior of any call is to return all results, if no limit is
supplied in the request.</p>

<h3>Response Summary</h3>

<p>To complement the filtering and pagination API, each query response
includes a simple <code>api:ResponseSummary</code> object that looks like this:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&lt;rdf:Description rdf:nodeID=&quot;Naa3f4ca7b6024d6ab616aa31fa5ab528&quot;&gt;
    &lt;api:processingTimeMs rdf:datatype=&quot;http://www.w3.org/2001/XMLSchema#integer&quot;&gt;19&lt;/api:processingTimeMs&gt;
    &lt;rdf:type rdf:resource=&quot;http://smartplatforms.org/terms/api#ResponseSummary&quot;/&gt;
    &lt;api:resultsReturned rdf:datatype=&quot;http://www.w3.org/2001/XMLSchema#integer&quot;&gt;2&lt;/api:resultsReturned&gt;
    &lt;api:totalResultCount rdf:datatype=&quot;http://www.w3.org/2001/XMLSchema#integer&quot;&gt;2&lt;/api:totalResultCount&gt;
    &lt;api:resultOrder rdf:nodeID=&quot;Nff3cac65263543dfa82450b51355c031&quot;/&gt;
  &lt;/rdf:Description&gt;
</code></pre></div>
<h3>An Javascript Example for Filtering Lab Results</h3>

<p>For this example, we&#39;ll be using the SMART JSON-LD interface described
<a href="/framework/json-ld.html">here</a> to the SMART Connect Javascript library.</p>

<p>To start let&#39;s set up a query with the following parameters:</p>

<ul>
<li><p>Filter the labs to find this patient&#39;s LDL results. LDL&#39;s have three
LOINC codes that differ only in the method used to find the result. We&#39;ll
make a pipe (|) seperated string of these codes: <code>&quot;13457-7|2089-1|18262-6&quot;</code></p></li>
<li><p>Find the results from 2010-01-01 to 2012-01-01 using the <code>&quot;date_from&quot;</code>
and <code>&quot;date_to&quot;</code> parameters.</p></li>
<li><p>Lastly, let&#39;s restrict the number of returned results to a &quot;page&quot; of
10 results by setting the <code>limit</code> parameter to <code>10</code>. To fetch the next
&quot;page&quot; of ten results, your code would update the <code>date_from</code> query
parameter to the value of the last result returned from the previous
call and keep the limit at <code>10</code>.</p></li>
</ul>

<p>The parameters above are passed to the <code>get_lab_results</code> call as
a standard Javascript object and the results are passed to your
callback function in the same way as the other API calls:</p>

<div class="highlight"><pre><code class="javascript">    <span class="nx">SMART</span><span class="p">.</span><span class="nx">get_lab_results</span><span class="p">({</span>
        <span class="s1">&#39;date_from&#39;</span><span class="o">:</span> <span class="s1">&#39;2010-01-01&#39;</span><span class="p">,</span>
        <span class="s1">&#39;date_to&#39;</span><span class="o">:</span>   <span class="s1">&#39;2012-01-01&#39;</span><span class="p">,</span>
        <span class="s1">&#39;loinc&#39;</span><span class="o">:</span>     <span class="s1">&#39;13457-7|2089-1|18262-6&#39;</span><span class="p">,</span>
        <span class="s1">&#39;limit&#39;</span><span class="o">:</span>     <span class="mi">10</span><span class="p">,</span>
        <span class="s1">&#39;offset&#39;</span><span class="o">:</span>    <span class="mi">0</span>
    <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">r</span><span class="p">){</span>
        <span class="kd">var</span> <span class="nx">ldls</span> <span class="o">=</span> <span class="nx">r</span><span class="p">.</span><span class="nx">objects</span><span class="p">.</span><span class="nx">of_type</span><span class="p">.</span><span class="nx">LabResult</span><span class="p">;</span>
        <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">ldls</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">ldl</span><span class="p">){</span>
            <span class="c1">// ouput each lab to the console</span>
            <span class="kd">var</span> <span class="nx">date</span> <span class="o">=</span> <span class="nx">ldl</span><span class="p">.</span><span class="nx">dcterms__date</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">ldl</span><span class="p">.</span><span class="nx">quantitativeResult</span><span class="p">.</span><span class="nx">valueAndUnit</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">unit</span> <span class="o">=</span> <span class="nx">r</span><span class="p">.</span><span class="nx">quantitativeResult</span><span class="p">.</span><span class="nx">valueAndUnit</span><span class="p">.</span><span class="nx">unit</span><span class="p">;</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;LDL result: &#39;</span><span class="p">,</span> <span class="nx">date</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">unit</span><span class="p">);</span>
        <span class="p">})</span>

        <span class="c1">// view the responseSummary object</span>
        <span class="kd">var</span> <span class="nx">rs</span> <span class="o">=</span> <span class="nx">r</span><span class="p">.</span><span class="nx">objects</span><span class="p">.</span><span class="nx">of_type</span><span class="p">.</span><span class="nx">ResponseSummary</span><span class="p">;</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;resultsReturned&#39;</span><span class="p">,</span> <span class="nx">rs</span><span class="p">.</span><span class="nx">resultsReturned</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;totalResultCount&#39;</span><span class="p">,</span> <span class="nx">rs</span><span class="p">.</span><span class="nx">totalResultCount</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;nextPageURL&#39;</span><span class="p">,</span> <span class="nx">rs</span><span class="p">.</span><span class="nx">nextPageURL</span><span class="p">);</span>
    <span class="p">})</span>
</code></pre></div>

<h2>Preferences and Scratchpad API</h2>

<p>The SMART preferences and scratchpad APIs provide a facility that SMART apps
can use to persist data about the application and user preferences, notes about
the patient record, and other pertinant data. While the two APIs are similar,
they have different intent and therefore a different scope. In both instances,
SMART does not mandate a speific format for the data stored, only that it can
be serialized in unicode. Each app is responsible for choosing an appropriate
serialization format for its data.</p>

<h3>Preferences API</h3>

<p>The preferences API provides a way for your app to store data within the SMART
container automatically scoped on per user and app basis. The data can be
stored in any format that makes sense to the app. In the SMART Connect client,
you can now call the <code>get_user_preferences</code>, <code>put_user_preferences</code>, and
<code>delete_user_preferences</code> methods. For the put methods you will have to provide
a MIME content type for the data that you are storing within the container.</p>

<h3>Scratchpad API</h3>

<p>The SMART 0.6 Scratchpad API enables SMART apps to store data pertaining to a
patient record in free form format. This is, the app decides on the format of
the data that it wants to store (self-structured) making the data opaque to the
container. All SMART apps are allowed read access to the scratchpad data for
the in-scope patient of all other apps, which provides a basic interoperability
facility accross apps.</p>

<p>Because a SMART app has access to the scratchpad that it owns regardless of the
user who runs it, there is always the possibility that a user overwrites the
data stored by another user. A container is free to implement collision
detection support for its scratchpad facilities.</p>

<p><em>Note:</em> The SMART reference implementation scratchpad is not collision-safe.
Data may be lost by multiple copies of an app trying to write in parallel.
Production implementations are encouraged to implement a system that will, for
example, provide locks and dirty-state notification via HTTP error codes to
apps writing to the scratchpad.</p>

<p><br> <br> <br></p>

<h1>The API</h1>


          <hr>

          
<h2 class='call-scope'>Container Calls</h2>

<h3 class='call-group-header-body' id='container_app_manifest'>App Manifest</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_app_manifest'>
<li>URI: <code> GET/apps/{descriptor}/manifest </code></li>
<li>Client method name: <code> get_app_manifest </code></li>
</ul>
<p> Returns a JSON SMART UI app manifest for the app matching {descriptor}, or 404.  Note that {descriptor} can be an app ID like &quot;got-statins </p>

<ul class='call-body' id='get_app_manifests'>
<li>URI: <code> GET/apps/manifests/ </code></li>
<li>Client method name: <code> get_app_manifests </code></li>
</ul>
<p> Returns a JSON list of all SMART UI app manifests installed on the container. </p>

<p><a href='/framework/models/#App_Manifest'>App Manifest data model</a></p>


</div>
<h3 class='call-group-header-body' id='container_containermanifest'>ContainerManifest</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_container_manifest'>
<li>URI: <code> GET/manifest </code></li>
<li>Client method name: <code> get_container_manifest </code></li>
</ul>
<p> Get manifest for a container </p>

<p><a href='/framework/models/#ContainerManifest'>ContainerManifest data model</a></p>


</div>
<h3 class='call-group-header-body' id='container_demographics'>Demographics</h3>
<div class='call-group-body'>
<ul class='call-body' id='search_records'>
<li>URI: <code> GET/records/search </code></li>
<li>Client method name: <code> search_records </code></li>
</ul>
<p> Get an RDF graph of sp:Demographics elements for all patients that match the query.  Matching treats family_name and given_name as the *beginning* of a name.  For instance given_name='J' matches /^J/i and thus matchs 'Josh'. Date of birth is an ISO8601 string like &quot;2008-03-21&quot;; gender is &quot;male&quot; or &quot;female&quot;.  Gender, date_of_birth, zipcode, and medical_record_number must match exactly.
	</p>

<p><a href='/framework/models/#Demographics'>Demographics data model</a></p>


</div>
<h3 class='call-group-header-body' id='container_ontology'>Ontology</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_ontology'>
<li>URI: <code> GET/ontology </code></li>
<li>Client method name: <code> get_ontology </code></li>
</ul>
<p> Get the ontology used by a SMART container </p>

<p><a href='/framework/models/#Ontology'>Ontology data model</a></p>


</div>
<h3 class='call-group-header-body' id='container_user'>User</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_user'>
<li>URI: <code> GET/users/{user_id} </code></li>
<li>Client method name: <code> get_user </code></li>
</ul>
<p> Get a single user by ID </p>

<ul class='call-body' id='search_users'>
<li>URI: <code> GET/users/search </code></li>
<li>Client method name: <code> search_users </code></li>
</ul>
<p> Get users by name (or all users if blank) </p>

<p><a href='/framework/models/#User'>User data model</a></p>


</div>

<h2 class='call-scope'>Record Calls</h2>

<h3 class='call-group-header-body' id='record_allergy'>Allergy</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_allergies'>
<li>URI: <code> GET/records/{record_id}/allergies/ </code></li>
<li>Client method name: <code> get_allergies </code></li>
</ul>
<p> Get all Allergies and Allergy Exclusions for a patient </p>

<ul class='call-body' id='get_allergy'>
<li>URI: <code> GET/records/{record_id}/allergies/{allergy_id} </code></li>
<li>Client method name: <code> get_allergy </code></li>
</ul>
<p> Get one Allergy for a patient </p>

<p><a href='/framework/models/#Allergy'>Allergy data model</a></p>


</div>
<h3 class='call-group-header-body' id='record_clinical_note'>Clinical Note</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_clinical_notes'>
<li>URI: <code> GET/records/{record_id}/clinical_notes/ </code></li>
<li>Client method name: <code> get_clinical_notes </code></li>
</ul>
<p> Get all Clinical Notes for a patient </p>

<ul class='call-body' id='get_clinical_note'>
<li>URI: <code> GET/records/{record_id}/clinical_notes/{clinical_note_id} </code></li>
<li>Client method name: <code> get_clinical_note </code></li>
</ul>
<p> Get one Clinical Note for a patient </p>

<ul class='call-body' id='post_clinical_note'>
<li>URI: <code> POST/records/{record_id}/clinical_notes/ </code></li>
<li>Client method name: <code> post_clinical_note </code></li>
</ul>
<p> Post a Clinical Note for a patient. The body of the post should contain SMART RDF/XML serialization of the clinical note without the belongsTo predicate. The clinical note will be added to the collection of notes and the call will return a a copy of the posted data to indicate as successful posting. </p>

<p><a href='/framework/models/#Clinical_Note'>Clinical Note data model</a></p>


</div>
<h3 class='call-group-header-body' id='record_demographics'>Demographics</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_demographics'>
<li>URI: <code> GET/records/{record_id}/demographics </code></li>
<li>Client method name: <code> get_demographics </code></li>
</ul>
<p> Get Demographics for a patient </p>

<p><a href='/framework/models/#Demographics'>Demographics data model</a></p>


</div>
<h3 class='call-group-header-body' id='record_document'>Document</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_document'>
<li>URI: <code> GET/records/{record_id}/documents/{document_id} </code></li>
<li>Client method name: <code> get_document </code></li>
</ul>
<p> Allows a SMART app to request a single document. The optional `format` parameter sets the output format of the call. The possible values are `metadata`, `raw`, and `combined`. In `format=metadata` mode, the container returns metadata and desceriptors of the document in RDF-XML. In `format=combined` mode the call returns the serialized document content in addition to all the data from the `format=metadata` mode. In `format=raw` mode, SMART returns the raw document content with the proper MIME type. In the absence of a `format` parameter, the API defaults to `format=raw`. </p>

<ul class='call-body' id='get_documents'>
<li>URI: <code> GET/records/{record_id}/documents/ </code></li>
<li>Client method name: <code> get_documents </code></li>
</ul>
<p> Returns data about all the available documents for the patient record subject to the standard filter restrictions. The optional `format` parameter sets the output format of the call. The possible values are `metadata` and `combined`. In `format=metadata` mode, the container returns metadata and desceriptors of the documents in RDF-XML. In `format=combined` mode the call returns the serialized documents' content in addition to all the data from the `format=metadata` mode. In the absence of a `format` parameter, the API defaults to `format=metadata`. </p>

<p><a href='/framework/models/#Document'>Document data model</a></p>


</div>
<h3 class='call-group-header-body' id='record_encounter'>Encounter</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_encounters'>
<li>URI: <code> GET/records/{record_id}/encounters/ </code></li>
<li>Client method name: <code> get_encounters </code></li>
</ul>
<p> Get all Encounters for a patient </p>

<ul class='call-body' id='get_encounter'>
<li>URI: <code> GET/records/{record_id}/encounters/{encounter_id} </code></li>
<li>Client method name: <code> get_encounter </code></li>
</ul>
<p> Get one Encounter for a patient </p>

<p><a href='/framework/models/#Encounter'>Encounter data model</a></p>


</div>
<h3 class='call-group-header-body' id='record_family_history_observation'>Family History Observation</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_family_history_observations'>
<li>URI: <code> GET/records/{record_id}/family_history/ </code></li>
<li>Client method name: <code> get_family_history_observations </code></li>
</ul>
<p> Get all Family Histories for a patient </p>

<ul class='call-body' id='get_family_history_observation'>
<li>URI: <code> GET/records/{record_id}/family_history/{family_history_id} </code></li>
<li>Client method name: <code> get_family_history_observation </code></li>
</ul>
<p> Get one Family History for a patient </p>

<p><a href='/framework/models/#Family_History_Observation'>Family History Observation data model</a></p>


</div>
<h3 class='call-group-header-body' id='record_fulfillment'>Fulfillment</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_fulfillments'>
<li>URI: <code> GET/records/{record_id}/fulfillments/ </code></li>
<li>Client method name: <code> get_fulfillments </code></li>
</ul>
<p> Get all Fulfillments for a patient </p>

<ul class='call-body' id='get_fulfillment'>
<li>URI: <code> GET/records/{record_id}/fulfillments/{fulfillment_id} </code></li>
<li>Client method name: <code> get_fulfillment </code></li>
</ul>
<p> Get one Fulfillment for a patient </p>

<p><a href='/framework/models/#Fulfillment'>Fulfillment data model</a></p>


</div>
<h3 class='call-group-header-body' id='record_immunization'>Immunization</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_immunizations'>
<li>URI: <code> GET/records/{record_id}/immunizations/ </code></li>
<li>Client method name: <code> get_immunizations </code></li>
</ul>
<p> Get all Immunizations for a patient </p>

<ul class='call-body' id='get_immunization'>
<li>URI: <code> GET/records/{record_id}/immunizations/{immunization_id} </code></li>
<li>Client method name: <code> get_immunization </code></li>
</ul>
<p> Get one Immunization for a patient </p>

<p><a href='/framework/models/#Immunization'>Immunization data model</a></p>


</div>
<h3 class='call-group-header-body' id='record_lab_panel'>Lab Panel</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_lab_panels'>
<li>URI: <code> GET/records/{record_id}/lab_panels/ </code></li>
<li>Client method name: <code> get_lab_panels </code></li>
</ul>
<p> Get all Lab Panels for a patient </p>

<ul class='call-body' id='get_lab_panel'>
<li>URI: <code> GET/records/{record_id}/lab_panels/ </code></li>
<li>Client method name: <code> get_lab_panel </code></li>
</ul>
<p> Get one Lab Panel for a patient </p>

<p><a href='/framework/models/#Lab_Panel'>Lab Panel data model</a></p>


</div>
<h3 class='call-group-header-body' id='record_lab_result'>Lab Result</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_lab_result'>
<li>URI: <code> GET/records/{record_id}/lab_results/{lab_result_id} </code></li>
<li>Client method name: <code> get_lab_result </code></li>
</ul>
<p> Get one Lab Result for a patient </p>

<ul class='call-body' id='get_lab_results'>
<li>URI: <code> GET/records/{record_id}/lab_results/ </code></li>
<li>Client method name: <code> get_lab_results </code></li>
</ul>
<p> Get all Lab Results for a patient </p>

<p><a href='/framework/models/#Lab_Result'>Lab Result data model</a></p>


</div>
<h3 class='call-group-header-body' id='record_medication'>Medication</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_medication'>
<li>URI: <code> GET/records/{record_id}/medications/{medication_id} </code></li>
<li>Client method name: <code> get_medication </code></li>
</ul>
<p> Get one Medication for a patient </p>

<ul class='call-body' id='get_medications'>
<li>URI: <code> GET/records/{record_id}/medications/ </code></li>
<li>Client method name: <code> get_medications </code></li>
</ul>
<p> Get all Medications for a patient </p>

<p><a href='/framework/models/#Medication'>Medication data model</a></p>


</div>
<h3 class='call-group-header-body' id='record_photograph'>Photograph</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_photograph'>
<li>URI: <code> GET/records/{record_id}/photograph </code></li>
<li>Client method name: <code> get_photograph </code></li>
</ul>
<p> Get one Photograph for a patient </p>

<p><a href='/framework/models/#Photograph'>Photograph data model</a></p>


</div>
<h3 class='call-group-header-body' id='record_problem'>Problem</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_problems'>
<li>URI: <code> GET/records/{record_id}/problems/ </code></li>
<li>Client method name: <code> get_problems </code></li>
</ul>
<p> Get all Problems for a patient </p>

<ul class='call-body' id='get_problem'>
<li>URI: <code> GET/records/{record_id}/problems/{problem_id} </code></li>
<li>Client method name: <code> get_problem </code></li>
</ul>
<p> Get one Problem for a patient </p>

<p><a href='/framework/models/#Problem'>Problem data model</a></p>


</div>
<h3 class='call-group-header-body' id='record_procedure'>Procedure</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_procedure'>
<li>URI: <code> GET/records/{record_id}/procedures/{procedure_id} </code></li>
<li>Client method name: <code> get_procedure </code></li>
</ul>
<p> Get one Procedure for a patient </p>

<ul class='call-body' id='get_procedures'>
<li>URI: <code> GET/records/{record_id}/procedures/ </code></li>
<li>Client method name: <code> get_procedures </code></li>
</ul>
<p> Get all Procedures for a patient </p>

<p><a href='/framework/models/#Procedure'>Procedure data model</a></p>


</div>
<h3 class='call-group-header-body' id='record_scratchpad_data'>Scratchpad Data</h3>
<div class='call-group-body'>
<ul class='call-body' id='put_scratchpad_data'>
<li>URI: <code> PUT/records/{record_id}/apps/{smart_app_id}/scratchpad </code></li>
<li>Client method name: <code> put_scratchpad_data </code></li>
</ul>
<p> Stores scratchpad data in the patient's account in the SMART container scoped to the current app. The HTTP request body represents the unicode-encoded data blob. The app chooses the best format for the data that makes sense for its use case (it is unstructured from SMART's perspective). If the data save was successful, the SMART server will respond with an HTTP 200 code and include the stored data in the response body. It is the app's responsibility to compare the response with the intended data content. If there are any discrepancies, then a concurrency problem occured while writing the data and the app should request a fresh copy of the scratchpad data stored on the server, merge it with its local copy and attempt writing it again. </p>

<ul class='call-body' id='delete_scratchpad_data'>
<li>URI: <code> DELETE/records/{record_id}/apps/{smart_app_id}/scratchpad </code></li>
<li>Client method name: <code> delete_scratchpad_data </code></li>
</ul>
<p> Purges the scratchpad data stored in the SMART container for the selected app. If everything goes well, this call will respond with HTTP 200 status code. </p>

<ul class='call-body' id='get_scratchpad_data'>
<li>URI: <code> GET/records/{record_id}/apps/{smart_app_id}/scratchpad </code></li>
<li>Client method name: <code> get_scratchpad_data </code></li>
</ul>
<p> Returns the scratchpad blob unicode data stored in the patient's account by a previous run of the owner app in the response body. An app can ready any other app's scratchpad. If not data is available the call will return an empty string. </p>

<p><a href='/framework/models/#Scratchpad_Data'>Scratchpad Data data model</a></p>


</div>
<h3 class='call-group-header-body' id='record_social_history'>Social History</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_social_history'>
<li>URI: <code> GET/records/{record_id}/social_history </code></li>
<li>Client method name: <code> get_social_history </code></li>
</ul>
<p> Get Social History for a patient </p>

<p><a href='/framework/models/#Social_History'>Social History data model</a></p>


</div>
<h3 class='call-group-header-body' id='record_vital_sign_set'>Vital Sign Set</h3>
<div class='call-group-body'>
<ul class='call-body' id='get_vital_sign_sets'>
<li>URI: <code> GET/records/{record_id}/vital_sign_sets/ </code></li>
<li>Client method name: <code> get_vital_sign_sets </code></li>
</ul>
<p> Get all Vital Sign Sets for a patient </p>

<ul class='call-body' id='get_vital_sign_set'>
<li>URI: <code> GET/records/{record_id}/vital_sign_sets/{vital_sign_set_id} </code></li>
<li>Client method name: <code> get_vital_sign_set </code></li>
</ul>
<p> Get one Vital Sign Set for a patient </p>

<p><a href='/framework/models/#Vital_Sign_Set'>Vital Sign Set data model</a></p>


</div>

<h2 class='call-scope'>User Calls</h2>

<h3 class='call-group-header-body' id='user_user_preferences'>User Preferences</h3>
<div class='call-group-body'>
<ul class='call-body' id='delete_user_preferences'>
<li>URI: <code> DELETE/users/{user_id}/apps/{smart_app_id}/preferences </code></li>
<li>Client method name: <code> delete_user_preferences </code></li>
</ul>
<p> Purges the user preferences stored in the SMART container for the selected app. If everything goes well, this call will respond with HTTP 200 status code. </p>

<ul class='call-body' id='put_user_preferences'>
<li>URI: <code> PUT/users/{user_id}/apps/{smart_app_id}/preferences </code></li>
<li>Client method name: <code> put_user_preferences </code></li>
</ul>
<p> Stores preferences data in the user's account in the SMART container scoped to the current app. The HTTP request body represents the unicode-encoded data blob. The app chooses the best format for the data that makes sense for its use case (it is unstructured from SMART's perspective). If the data save was successful, the SMART server will respond with an HTTP 200 code and include the stored data in the response body. It is the app's responsibility to compare the response with the intended data content. If there are any discrepancies, then a concurrency problem occured while writing the data and the app should request a fresh copy of the preferences data stored on the server, merge it with its local copy and attempt writing it again. </p>

<ul class='call-body' id='get_user_preferences'>
<li>URI: <code> GET/users/{user_id}/apps/{smart_app_id}/preferences </code></li>
<li>Client method name: <code> get_user_preferences </code></li>
</ul>
<p> Returns the preferences blob unicode data stored in the user's account by a previous run of the app in the response body. If not data is available the call will return an empty string. </p>

<p><a href='/framework/models/#User_Preferences'>User Preferences data model</a></p>


</div>


        </div><!--span9-->
      </div><!--row-->

      <hr>

    
<hr>

<div class='footer-row'>
    <img class='smartbug' src='/assets/img/smart-bug.png' style='height: 20px; width: 22px; padding-right: 4px;'>
    <a href='http://smartplatforms.org'>SMARTPlatforms.org</a> &copy; 2014
</div>


    </div><!--/.fluid-container-->
  </body>
</html>


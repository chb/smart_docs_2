<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>SMART Developers Documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap bootstrap -->
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="/assets/css/smart-docs.css" rel="stylesheet" media="screen">
    <link href="/assets/css/syntax.css" rel="stylesheet">
    <script src="http://code.jquery.com/jquery.js"></script>
    <script>
    $(function() {
        var theTimer = 0;
        var theElement = null;
        var theLastPosition = {x:0,y:0};
        var delay = 200;

        $('[data-toggle]')
            .closest('li')

            .on('mouseenter', function (inEvent) {
                if (theElement) theElement.removeClass('open');
                window.clearTimeout(theTimer);
                theElement = $(this);

                theTimer = window.setTimeout(function() {
                    theElement.addClass('open');
                }, delay);
            })

            .on('mousemove', function(inEvent) {
                if (Math.abs(theLastPosition.x - inEvent.ScreenX) > 4 ||
                    Math.abs(theLastPosition.y - inEvent.ScreenY) > 4) {
                    theLastPosition.x = inEvent.ScreenX;
                    theLastPosition.y = inEvent.ScreenY;
                    return;
                }

                if (theElement.hasClass('open')) return;

                window.clearTimeout(theTimer);
                theTimer = window.setTimeout(function () {
                theElement.addClass('open');
                }, delay);
            })

            .on('mouseleave', function (inEvent) {
                window.clearTimeout(theTimer);
                theElement = $(this);
                theTimer = window.setTimeout(function () {
                    theElement.removeClass('open');
                }, delay);
            });
        });
    </script>


  </head>
  <body>

    <div id='ref-topbar' class="navbar navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container-fluid">
      <a class="brand" href="/"><img class='smartbug' src='/assets/img/smart-bug.png' /></a>
        <div class="nav-collapse collapse">

          <ul class="nav" style='text-transform: uppercase; font-size: 14px'>

            <li><a href="/">Home</a></li>
            <li class="dropdown">
              <a id="drop1"
                 href="#"
                 role="button"
                 class="dropdown-toggle"
                 data-toggle="dropdown">Resources <b class="caret"></b>
              </a>

              <ul class="dropdown-menu" role="menu" aria-labelledby="drop1">
                <li role="presentation">
                  <a role="menuitem" tabindex="-1" href="/faq.html">frequently asked questions</a>
                </li>
                <li role="presentation">
                  <a role="menuitem" tabindex="-1" href="/community.html">Our Community</a>
                </li>

                <li role="presentation">
                  <a role="menuitem" tabindex="-1" href="http://github.com/chb/">Source on Github</a>
                </li>
              </ul>
            </li>

            <li><a href="/framework/models/">Data Models</a></li>

            <li><a href="/framework/api/">API</a></li>

            <li><a href="/guide/">App Development</a></li>

            <li><a href="/framework/container">Container Development</a></li>

                  </ul>
                </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>



    <div style='margin: 30px 130px;'>
          <h1>Topics of Interest to Container Developers</h1>

<h2>Translating between coding systems</h2>

<p>Chances are that your medical data is already encoded in one of the widely available coding
standards used in the medical community. When exposing your data through the SMART API,
you will have to provide data about the patient using the coding systems defined by
SMART (such as SNOMED-CT, RXNORM, LOINC, etc). Thus, you will need to map your local
data codes into the SMART defined coding systems.</p>

<p>Unfortunately, the problem of generating accurate translations between coding
systems is an inexact science. Due to differences between the terminology terms,
it is often times not possible to derive a complete one-to-one map between
two systems to preclude loss of meaning as result of translation. A good
practice when generating SMART RDF with translated codes is to include
provenance information. Here is an example that specifies the provenance for 
a lab result translation from a local labcode to LOINC:</p>

<div class="highlight"><pre><code class="xml"><span class="nt">&lt;sp:labName&gt;</span>
    <span class="nt">&lt;sp:CodedValue&gt;</span>
        <span class="nt">&lt;sp:code</span> <span class="na">rdf:resource=</span><span class="s">&quot;http://loinc.org/codes/2951-2&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;dcterms:title&gt;</span>Serum sodium<span class="nt">&lt;/dcterms:title&gt;</span>
        <span class="nt">&lt;sp:codeProvenance&gt;</span>
            <span class="nt">&lt;sp:CodeProvenance&gt;</span>
                <span class="nt">&lt;sp:sourceCode</span> <span class="na">rdf:resource=</span><span class="s">&quot;http://local-emr/labcodes/01234&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;dcterms:title&gt;</span>Random blood sodium level<span class="nt">&lt;/dcterms:title&gt;</span>
                <span class="nt">&lt;sp:translationFidelity</span> <span class="na">rdf:resource=</span><span class="s">&quot;http://smartplatforms.org/terms/code/fidelity#automated&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/sp:CodeProvenance&gt;</span>
        <span class="nt">&lt;/sp:codeProvenance&gt;</span>
    <span class="nt">&lt;/sp:CodedValue&gt;</span>
<span class="nt">&lt;/sp:labName&gt;</span>
</code></pre></div>

<p>For translating from one system to another, we highly recommend reusing commonly
available maps. For example, the US National Library of Medicine provides maps for 
translation between ICD-9-CM and SNOMED-CT 
(<a href="http://www.nlm.nih.gov/research/umls/mapping_projects/icd9cmv3_to_snomedct.html">http://www.nlm.nih.gov/research/umls/mapping_projects/icd9cmv3_to_snomedct.html</a>,
<a href="http://www.nlm.nih.gov/research/umls/mapping_projects/icd9cm_to_snomedct.html">http://www.nlm.nih.gov/research/umls/mapping_projects/icd9cm_to_snomedct.html</a>).</p>

<h2>RDF vs JSON</h2>

<p>(add discussion points here)</p>

<h2>Partial implementations</h2>

<p>Implementing the complete SMART specification on top of your medical records system
will allow you and your system&#39;s users to run the full range of standard SMART medical apps
available on the market. However, a complete implementation may turn out to be a large scale project.
Some times the objective of a SMART enablement project is to enable running specific
applications on a medical records system. Under such a scenario, you may want to
consider a partial implementation of the SMART standard following the least common
denominator principle. SMART provides for a discovery mechanism that can be used by SMART
apps to learn about the API calls supported by a container by requesting the container
manifest through the <code>/manifest</code> REST path. For example, the public sandbox of the SMART
Platforms project exposes its manifest on the following URL:
<a href="http://sandbox-api.smartplatforms.org/manifest">http://sandbox-api.smartplatforms.org/manifest</a></p>

<p>Even if your end goal is complete SMART support, it may still be a good development
strategy to start small and implement a few maningful basic API calls and testing 
your container with some basic apps that rely on them. Since a large majority of the SMART
apps our there use the SMART Connect interface, it would make sense to focus on implementing
this interface before tackling the SMART REST interface which requires, amongst the others,
OAuth support. Starting with the Demographics data model and API a developer may wish to
consider implementing the Medications, Problems, or VitalSigns interfaces.</p>

<h2>Reusing portions of the SMART Reference Container</h2>

<p>As discussed in the <a href="reference-container.html">reference container</a> section, the SMART Platforms
team maintains an open-source complete medical system that implements the SMART specification.
The reference container is available under Apache 2 open source license and can serve as a base
for rapid SMART container implementations. One of the implementation strategies outlined in the
<a href="roadmap.html">roamap for container developers</a> is replacing the reference contianer&#39;s data
source and user authentication subsystems with an adapter to your medical data system. The
downside of reusing the reference container code is that it has not been tested in highly
scalable environments and will introduce dependencies on Python/Django based code components.</p>

<h2>Extending the SMART API and data models</h2>

<p>While not a common practice, your SMART container implementation can extended the SMART
specification with new API calls and data models that support the needs of your specific community.
Apps written to take advantage of these non-standard calls that need to run on a standard
SMART container will need to degrade gracefully in the absence of the extended API calls.</p>

<h2>Implementing write capabilities</h2>

<p>With the exception of the Clinical Notes, Preferences, and Scratchpad APIs, the SMART standard does
not provide for write functionality in the container. Therefore the majority of the SMART
apps presently available assume read-only interactions with the container. However,
a container may provide write capabilities.</p>

    </div>

      
<hr>

<div class='footer-row'>
    <img class='smartbug' src='/assets/img/smart-bug.png' style='height: 20px; width: 22px; padding-right: 4px;'>
    <a href='http://smartplatforms.org'>SMARTPlatforms.org</a> &copy; 2013
</div>


    </div> <!-- /container -->

    <script src="/assets/js/bootstrap.min.js"></script>

  </body>
</html>
